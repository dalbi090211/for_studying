<script src="./hhk/blockly_compressed.js"></script>
<script src="./hhk/blocks_compressed.js"></script>
<script src="./hhk/javascript_compressed.js"></script>
<script src="./hhk/msg/js/ko.js"></script>
<script src="./hhk/custom_blocks.js"></script>

<link rel="stylesheet" type="text/css" href="semantic/semantic.css">
<link rel="stylesheet" type="text/css" href="stylesheets/style.css">

<head>

    <link rel="stylesheet" type="text/css" href="../semantic/semantic.css">
	<link rel="stylesheet" type="text/css" href="../stylesheets/style.css">
	<script
		 src="https://code.jquery.com/jquery-3.1.1.min.js"
		integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
		 crossorigin="anonymous"></script>
	<script src="../semantic/semantic.js"></script>

    <title>blockly</title>

    <script>
        var toolbox = { 
        "kind": "categoryToolbox",
        "contents": [
        {
            "kind" : "category",
            "name" : "Control",
            "contents" : [
                {
                    "kind": "block",
                    "type": "controls_if"
                },
                {
                    "kind": "block",
                    "type": "controls_repeat_ext"
                }
            ]
        },
        {
            "kind" : "category",
            "name" : "Logic",
            "contents" : [
                {
                    "kind": "block",
                    "type": "logic_compare"
                },
                {
                    "kind" : "block",
                    "type" : "lightswitch"
                }
            ]
        },
        {
            "kind" : "category",
            "name" : "Math",
            "contents" : [
                {
                    "kind": "block",
                    "type": "math_number"
                },
                {
                    "kind": "block",
                    "type": "math_arithmetic"
                },
            ]
        },
        {
            "kind" : "category",
            "name" : "Text",
            "contents" : [
            {
                "kind": "block",
                "type": "text"
            },
            {
                "kind": "block",
                "type": "text_print"
            },
            ]
        },

        ]
        }
    </script>
    <style>
        body {
            padding : 20px;
            margin: 0px 5px 0px;    
            font-family: Lato;
        }
    </style>

</head>

<body>

    <div>
        <div id = "sidebar1" class = "ui vertical inverted visible sidebar menu">
        
            <div class = "item">
                <a class = "ui logo icon image" href = "../../index.html">
                    <img src = "../images/gomduri.png">
                </a>
            </div>
            
            <div class = "item">
                <b><a href = "../js.html">Javasciprt</b>
            </div>
            
            <div class = "item">
                <a href = "blockly.html">
                    <b>blockly</b>
                </a>
            </div>
            
        </div>
        
        <div class = "blcokly_menu" style = "padding-left: 200px;">
            <button class = "ui button" onclick="runCode()">Run Code</button>
            <div id = "blocklyDiv" style = "height : 480px; width : 600px"></div>
        </div>  
    </div>

    <script>
    var workspace = Blockly.inject('blocklyDiv', {toolbox: toolbox});
    // take the text generated by the blocks and run it as code
    function runCode() {
        window.LoopTrap = 1000;
        Blockly.JavaScript.INFINITE_LOOP_TRAP = 'if (--window.LoopTrap == 0) throw "Infinite loop.";Â¥n';
        var code = Blockly.JavaScript.workspaceToCode(workspace);
        Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
        try {
            eval(code);
        } catch (e) {
            alert(e);
        }
    }
    </script>
</body>